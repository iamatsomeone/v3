function uleb128(e){if(e<16)return"0"+e.toString(16);if(e<256)return e.toString(16);var t=e.toString(2),i=7-t.length%7;7!==i&&(t="0000000".substr(0,i)+t),t="0"+t.match(/.{7}/g).map((e=>"1"+e)).join("").slice(1);var r=parseInt(t,2).toString(16);return(r=(r=1&r.length?"0"+r:r).match(/.{2}/g)).reverse(),r=r.join("")}var quickPb={compile:function(e,t){var i="";return Object.keys(e).forEach((function(r){i+=quickPb.compileKvPair(r,e[r],t)})),i.toLowerCase().replace(" ","")},compileKvPair:function(e,t,i){if(!i[e])return"";var r=i[e],n=r[1],o=quickPb.compileKey(r);switch(n){case 0:return o+quickPb.compileVarint(t);case 1:case 3:case 4:case 5:break;case 2:return"object"==typeof t?o+quickPb.compileLd(quickPb.compile(t,r[2])):o+quickPb.compileString(t)}},compileKey:function(e){var t=e[0],i=e[1];return quickPb.compileVarint(quickPb.getKey(t,i))},compileVarint:function(e){return uleb128(+e)},compileString:function(e){return quickPb.compileLd(quickPb.toHex(e))},compileLd:function(e){var t=quickPb.getSize(e);return quickPb.compileVarint(t)+e},getSize:function(e){var t=e.length;return(t+t%2)/2},getKey:function(e,t){return e<<3|t},toHex:function(e){for(var t="",i=0;i<e.length;i++)t+=e.charCodeAt(i).toString(16);return t}};window.api.search={},window.api.search.spgen=function(e){const t={relevance:0,rating:1,uploadDate:2,viewCount:3},i={hour:0,day:1,week:2,month:3,year:4,lastHour:0,today:1,thisWeek:2,thisMonth:3,thisYear:4},r={video:1,channel:2,playlist:3,movie:4},n={short:0,medium:2,long:1};e.sort&&"string"==typeof e.sort&&(e.sort=t[e.sort]),e.filter&&e.filter.uploadDate&&"string"==typeof e.filter.uploadDate&&(e.filter.uploadDate=i[e.filter.uploadDate]),e.filter&&e.filter.type&&"string"==typeof e.filter.type&&(e.filter.type=r[e.filter.type]),e.filter&&e.filter.duration&&"string"==typeof e.filter.duration&&(e.filter.duration=n[e.filter.duration]),null!=e.index&&!e.something&&(e.something=""),null!=e.index&&e.index>127&&e.index<256&&(e.index=e.index-128+256);var o,a=quickPb.compile(e,{sort:[1,0],filter:[2,2,{f1:[1,0],f2:[2,0],f3:[3,0],b1:[4,0],b2:[5,0],b3:[6,0],b4:[7,0],b5:[8,0],b6:[9,0],b7:[14,0],b8:[15,0],b9:[23,0],b10:[25,0],b11:[26,0]}],index:[9,0],something:[61,2]});return a=(o=a,btoa(o.match(/\w{2}/g).map((e=>String.fromCharCode(parseInt(e,16)))).join(""))).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"%3D")};